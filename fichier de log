import sys
import os

sys.path.append(os.path.join(os.path.dirname(__file__), 'drivers-ddboat-v2'))

output_file = "log_mission_bouee_05_11_2025.txt"
titres = "latitude\tlongitude\tdistance au waypoint\tcap\tcap à suivre\n"

def initialiser_fichier(file, titres):
    with open(file, 'w') as f:
        f.write("titres\n")

initialiser_fichier(output_file, titres)

def enregistrer_valeurs(file, lat, long, dist, cap, car_com):
    line = f"{lat, long, dist, cap, car_com}\n"
    try:
        with open(file, 'a', encoding='utf-8') as f:
            f.write(line)
    except Exception as e:
        print(f"Erreur lors de l'écriture : {e}")

enregistrer_valeurs(lat, lon, distance, convert_cap_sensor_to_nav(cap_act), heading_geo)
